
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mydomain.org/mysite/practica4/">
      
      
        <link rel="prev" href="..">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Practica4 - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practica-41-configuracion-de-un-servidor-dns" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Practica4
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to MkDocs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Practica4
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Practica4
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#practica-41-configuracion-de-un-servidor-dns" class="md-nav__link">
    <span class="md-ellipsis">
      Practica 4.1: Configuración De Un Servidor DNS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-instalacion-de-servidor-dns" class="md-nav__link">
    <span class="md-ellipsis">
      1. Instalacion de Servidor DNS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-configuracion-del-servidor-dns" class="md-nav__link">
    <span class="md-ellipsis">
      2. Configuración del Servidor DNS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-configuracion-de-namedconfoptions" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Configuracion de named.conf.options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-configuracion-de-namedconflocal" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Configuración de named.conf.local
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-creacion-del-archivo-de-zona" class="md-nav__link">
    <span class="md-ellipsis">
      2.3. Creación del Archivo de Zona
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24-creacion-del-archivo-de-zona-para-la-resolucion-inversa" class="md-nav__link">
    <span class="md-ellipsis">
      2.4. Creación del Archivo de Zona para la Resolución Inversa
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#25-comprobacion-de-las-configuraciones" class="md-nav__link">
    <span class="md-ellipsis">
      2.5. Comprobación de las Configuraciones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#26-comprobacion-de-las-resoluciones-y-de-las-consultas" class="md-nav__link">
    <span class="md-ellipsis">
      2.6. Comprobación de las Resoluciones y de las Consultas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cuestiones-finales" class="md-nav__link">
    <span class="md-ellipsis">
      Cuestiones Finales
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cuestiones Finales">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-que-pasara-si-un-cliente-de-una-red-diferente-a-la-tuya-intenta-hacer-uso-de-tu-dns-de-alguna-manera-le-funcionarapor-que-en-que-parte-de-la-configuracion-puede-verse" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Qué pasará si un cliente de una red diferente a la tuya intenta hacer uso de tu DNS de alguna manera, le funcionará?¿Por qué, en qué parte de la configuración puede verse?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-por-que-tenemos-que-permitir-las-consultas-recursivas-en-la-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      2. ¿Por qué tenemos que permitir las consultas recursivas en la configuración?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-el-servidor-dns-que-acabais-de-montar-es-autoritativopor-que" class="md-nav__link">
    <span class="md-ellipsis">
      3. El servidor DNS que acabáis de montar, ¿es autoritativo?¿Por qué?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-donde-podemos-encontrar-la-directiva-origin-y-para-que-sirve" class="md-nav__link">
    <span class="md-ellipsis">
      4. ¿Dónde podemos encontrar la directiva $ORIGIN y para qué sirve?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-una-zona-es-identico-a-un-dominio" class="md-nav__link">
    <span class="md-ellipsis">
      5. ¿Una zona es idéntico a un dominio?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-pueden-editarse-los-archivos-de-zona-de-un-servidor-esclavosecundario" class="md-nav__link">
    <span class="md-ellipsis">
      6. ¿Pueden editarse los archivos de zona de un servidor esclavo/secundario?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-por-que-podria-querer-tener-mas-de-un-servidor-esclavo-para-una-misma-zona" class="md-nav__link">
    <span class="md-ellipsis">
      7. ¿Por qué podría querer tener más de un servidor esclavo para una misma zona?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-cuantos-servidores-raiz-existen" class="md-nav__link">
    <span class="md-ellipsis">
      8. ¿Cuántos servidores raíz existen?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-que-es-una-consulta-iterativa-de-referencia" class="md-nav__link">
    <span class="md-ellipsis">
      9. ¿Qué es una consulta iterativa de referencia?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-en-una-resolucion-inversa-a-que-nombre-se-mapearia-la-direccion-ip-172163456" class="md-nav__link">
    <span class="md-ellipsis">
      10. En una resolución inversa, ¿a qué nombre se mapearía la dirección IP 172.16.34.56?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#practica-41-configuracion-de-un-servidor-dns" class="md-nav__link">
    <span class="md-ellipsis">
      Practica 4.1: Configuración De Un Servidor DNS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-instalacion-de-servidor-dns" class="md-nav__link">
    <span class="md-ellipsis">
      1. Instalacion de Servidor DNS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-configuracion-del-servidor-dns" class="md-nav__link">
    <span class="md-ellipsis">
      2. Configuración del Servidor DNS
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-configuracion-de-namedconfoptions" class="md-nav__link">
    <span class="md-ellipsis">
      2.1. Configuracion de named.conf.options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-configuracion-de-namedconflocal" class="md-nav__link">
    <span class="md-ellipsis">
      2.2. Configuración de named.conf.local
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-creacion-del-archivo-de-zona" class="md-nav__link">
    <span class="md-ellipsis">
      2.3. Creación del Archivo de Zona
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24-creacion-del-archivo-de-zona-para-la-resolucion-inversa" class="md-nav__link">
    <span class="md-ellipsis">
      2.4. Creación del Archivo de Zona para la Resolución Inversa
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#25-comprobacion-de-las-configuraciones" class="md-nav__link">
    <span class="md-ellipsis">
      2.5. Comprobación de las Configuraciones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#26-comprobacion-de-las-resoluciones-y-de-las-consultas" class="md-nav__link">
    <span class="md-ellipsis">
      2.6. Comprobación de las Resoluciones y de las Consultas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cuestiones-finales" class="md-nav__link">
    <span class="md-ellipsis">
      Cuestiones Finales
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Cuestiones Finales">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-que-pasara-si-un-cliente-de-una-red-diferente-a-la-tuya-intenta-hacer-uso-de-tu-dns-de-alguna-manera-le-funcionarapor-que-en-que-parte-de-la-configuracion-puede-verse" class="md-nav__link">
    <span class="md-ellipsis">
      1. ¿Qué pasará si un cliente de una red diferente a la tuya intenta hacer uso de tu DNS de alguna manera, le funcionará?¿Por qué, en qué parte de la configuración puede verse?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-por-que-tenemos-que-permitir-las-consultas-recursivas-en-la-configuracion" class="md-nav__link">
    <span class="md-ellipsis">
      2. ¿Por qué tenemos que permitir las consultas recursivas en la configuración?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-el-servidor-dns-que-acabais-de-montar-es-autoritativopor-que" class="md-nav__link">
    <span class="md-ellipsis">
      3. El servidor DNS que acabáis de montar, ¿es autoritativo?¿Por qué?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-donde-podemos-encontrar-la-directiva-origin-y-para-que-sirve" class="md-nav__link">
    <span class="md-ellipsis">
      4. ¿Dónde podemos encontrar la directiva $ORIGIN y para qué sirve?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-una-zona-es-identico-a-un-dominio" class="md-nav__link">
    <span class="md-ellipsis">
      5. ¿Una zona es idéntico a un dominio?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-pueden-editarse-los-archivos-de-zona-de-un-servidor-esclavosecundario" class="md-nav__link">
    <span class="md-ellipsis">
      6. ¿Pueden editarse los archivos de zona de un servidor esclavo/secundario?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-por-que-podria-querer-tener-mas-de-un-servidor-esclavo-para-una-misma-zona" class="md-nav__link">
    <span class="md-ellipsis">
      7. ¿Por qué podría querer tener más de un servidor esclavo para una misma zona?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-cuantos-servidores-raiz-existen" class="md-nav__link">
    <span class="md-ellipsis">
      8. ¿Cuántos servidores raíz existen?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-que-es-una-consulta-iterativa-de-referencia" class="md-nav__link">
    <span class="md-ellipsis">
      9. ¿Qué es una consulta iterativa de referencia?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10-en-una-resolucion-inversa-a-que-nombre-se-mapearia-la-direccion-ip-172163456" class="md-nav__link">
    <span class="md-ellipsis">
      10. En una resolución inversa, ¿a qué nombre se mapearía la dirección IP 172.16.34.56?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Practica4</h1>

<h2 id="practica-41-configuracion-de-un-servidor-dns">Practica 4.1: Configuración De Un Servidor DNS</h2>
<h2 id="1-instalacion-de-servidor-dns">1. Instalacion de Servidor DNS</h2>
<p>Antes de comenzar la instalación del servidor DNS, debemso conectarnos por SSH a nuestra máquina física donde se ejecutarán los comandos necesarios para la instalación del servidor DNS. Para ello, utilizaremos el siguiente comando:
<img alt="Comando 1" src="../assets/images/screenshot.1.jpg" /></p>
<p>Para instalar el servidor DNS en nuestra máquina, utilizaremos el siguiente comando:
<img alt="Comando 2" src="../assets/images/screenshot.2.jpg" /></p>
<h2 id="2-configuracion-del-servidor-dns">2. Configuración del Servidor DNS</h2>
<p>Para configurar el servidor DNS, debemos modificar el archivo <code>/etc/default/named</code>. Dicho archivo, deberá tener la siguiente configuración:
<img alt="Comando 3" src="../assets/images/screenshot.3.jpg" /></p>
<p>Ahora se comprobará el estado del archivo <code>/etc/bind/named.conf</code> para verificar que la configuración del servidor DNS es correcta:
<img alt="Comando 4" src="./assets/images/screenshot..jpg" /></p>
<p>Esos tres archivos son los que se deben modificar para configurar el servidor DNS.</p>
<h2 id="21-configuracion-de-namedconfoptions">2.1. Configuracion de named.conf.options</h2>
<p>Se recomienda siempre hacer una copia de seguridad del archivo antes de modificarlo. Para ello, utilizaremos el siguiente comando:</p>
<pre><code class="language-bash">sudo cp /etc/bind/named.conf.options /etc/bind/named.conf.options.backup
</code></pre>
<p>Ahora, modificaremos el archivo <code>/etc/bind/named.conf.options</code>. Primeramente, se debe añadir estas lineas al inicio del archivo:</p>
<p><img alt="Comando 5" src="../assets/images/screenshot.24.jpg" /></p>
<p>El tercer byte dependerá de la dirección IP de la máquina. En este caso, la dirección IP de la máquina es <code>192.168.1.59</code>, por lo que el tercer byte será <code>1</code>.</p>
<p>Seguidamente, se deberán añadir unas lineas y el archivo deberá quedar de la siguiente manera:
<img alt="Comando 6" src="../assets/images/screenshot.25.jpg" /></p>
<p><code>allow-recursion {confiables;};</code>: Permite a los clientes hacer consultas recursivas.</p>
<p><code>allow-transfer {none;};</code>: No permite transferencias de zona para evitar que se hagan transferencias de zona no autorizadas.</p>
<p><code>listen-on port 53 {192.168.1.59;};</code>: Indica que el servidor DNS escuchará en el puerto 53 de la dirección IP <code>192.168.1.59</code>.</p>
<p><code>recursion yes</code>: Permite hacer consultas recursivas.</p>
<p><code>dnssec-validation yes;</code>: Habilita la validación de DNSSEC.</p>
<p><code>dnsssec-enable yes;</code>: Habilita DNSSEC.</p>
<p>Se podrá comprobar que la configuración del archivo es correcta utilizando el siguiente comando:
<img alt="Comando 7" src="../assets/images/screenshot.7.jpg" />
Si no sale nada, quiere decir que la configuración es correcta.</p>
<p>Ahora se reiniciará el servicio para que los cambios tengan efecto:
<img alt="Comando 8" src="../assets/images/screenshot.8.jpg" /></p>
<h2 id="22-configuracion-de-namedconflocal">2.2. Configuración de named.conf.local</h2>
<p>Se creará la zona <code>deaw.es</code> de la siguiente manera:
<img alt="Comando 9" src="../assets/images/screenshot.9.jpg" /></p>
<h2 id="23-creacion-del-archivo-de-zona">2.3. Creación del Archivo de Zona</h2>
<p>El nombre del archivo de zona será <code>db.deaw.es</code>, como hemos indicado en el archivo <code>named.conf.local</code> y tendrá la siguiente configuración:</p>
<p><img alt="Comando 10" src="../assets/images/screenshot.20.jpg" /></p>
<p>Los dos ultimos bytes de la dirección IP de la máquina son <code>1</code> y <code>59</code>, por lo que se deberá cambiar en el archivo de zona, dependiendo de la dirección IP de la máquina.</p>
<h2 id="24-creacion-del-archivo-de-zona-para-la-resolucion-inversa">2.4. Creación del Archivo de Zona para la Resolución Inversa</h2>
<p>Deben existir dos archivos de zona, uno para la resolución directa y otro para la resolución inversa. Para crear el archivo de zona para la resolución inversa. Primero se añaden las siguientes lineas al archivo <code>/etc/bind/named.conf.local</code>:</p>
<p><img alt="Comando 11" src="../assets/images/screenshot.21.jpg" /></p>
<p>Ahora se creará el archivo de zona para la resolución inversa, llamado <code>db.1.168.192</code> y tendrá la siguiente configuración:</p>
<p><img alt="Comando 12" src="../assets/images/screenshot.22.jpg" /></p>
<h2 id="25-comprobacion-de-las-configuraciones">2.5. Comprobación de las Configuraciones</h2>
<p>Para comprobar que la configuración de resolución directa e inversa se ejecutarán los siguientes comandos:
<img alt="Comando 13" src="../assets/images/screenshot.14.jpg" /></p>
<p>Si todo está correcto, el comando devolverá OK.</p>
<p>Ahora reiniciaremos el servicio para que los cambios tengan efecto:
<img alt="Comando 14" src="../assets/images/screenshot.8.jpg" /></p>
<h2 id="26-comprobacion-de-las-resoluciones-y-de-las-consultas">2.6. Comprobación de las Resoluciones y de las Consultas</h2>
<p>Antes de probar nada hay que establecer el cliente, para ello se utilizará una máquina virtual. Para ello, se debe configurar el archivo <code>/etc/resolv.conf</code> de la máquina virtual con la dirección IP del servidor DNS. Deberá quedar de la siguiente manera:</p>
<p><img alt="Comando 15" src="../assets/images/screenshot.23.jpg" /></p>
<p>Hecho esto se comprobará que la resolución directa e inversa funciona correctamente. Para ello, se ejecutarán los siguientes comandos. Primero se utilizará <code>dig</code>.
<img alt="Comando 16" src="../assets/images/screenshot.16.jpg" /></p>
<p><img alt="Comando 17" src="../assets/images/screenshot.17.jpg" /></p>
<p>Ahora se utilizará <code>nslookup</code>.</p>
<p><img alt="Comando 19" src="../assets/images/screenshot.19.jpg" /></p>
<h2 id="cuestiones-finales">Cuestiones Finales</h2>
<h3 id="1-que-pasara-si-un-cliente-de-una-red-diferente-a-la-tuya-intenta-hacer-uso-de-tu-dns-de-alguna-manera-le-funcionarapor-que-en-que-parte-de-la-configuracion-puede-verse">1. ¿Qué pasará si un cliente de una red diferente a la tuya intenta hacer uso de tu DNS de alguna manera, le funcionará?¿Por qué, en qué parte de la configuración puede verse?</h3>
<p>No funcionará, ya que en la configuración se ha restringido la recursión solo a los clientes confiables con la directiva:
<code>allow-recursion {confiables;};</code>
Esto significa que solo las direcciones IP definidas en "confiables" podrán realizar consultas recursivas. Si un cliente externo intenta resolver un dominio usando este DNS, su petición será rechazada.</p>
<h3 id="2-por-que-tenemos-que-permitir-las-consultas-recursivas-en-la-configuracion">2. ¿Por qué tenemos que permitir las consultas recursivas en la configuración?</h3>
<p>Porque sin recursión, el servidor solo respondería por las zonas en las que es autoritativo y no resolvería nombres externos.</p>
<h3 id="3-el-servidor-dns-que-acabais-de-montar-es-autoritativopor-que">3. El servidor DNS que acabáis de montar, ¿es autoritativo?¿Por qué?</h3>
<p>Sí, porque en la configuración se han definido zonas primarias con <code>"type master;"</code>.
Un servidor DNS es autoritativo cuando tiene registros DNS de una zona específica y puede responder con información definitiva sobre esos dominios.</p>
<h3 id="4-donde-podemos-encontrar-la-directiva-origin-y-para-que-sirve">4. ¿Dónde podemos encontrar la directiva $ORIGIN y para qué sirve?</h3>
<p>La directiva $ORIGIN se encuentra en los archivos de zona y establece el dominio base para los registros.</p>
<h3 id="5-una-zona-es-identico-a-un-dominio">5. ¿Una zona es idéntico a un dominio?</h3>
<p>No necesariamente. Un dominio es un nombre dentro del sistema DNS. Una zona es una parte de un dominio gestionada por un servidor DNS específico.</p>
<h3 id="6-pueden-editarse-los-archivos-de-zona-de-un-servidor-esclavosecundario">6. ¿Pueden editarse los archivos de zona de un servidor esclavo/secundario?</h3>
<p>No, los servidores secundarios obtienen los datos de un servidor maestro mediante transferencias de zona.</p>
<h3 id="7-por-que-podria-querer-tener-mas-de-un-servidor-esclavo-para-una-misma-zona">7. ¿Por qué podría querer tener más de un servidor esclavo para una misma zona?</h3>
<p>Para mejorar la redundancia y la disponibilidad. Si un servidor secundario falla, los otros servidores secundarios pueden seguir respondiendo a las consultas.</p>
<h3 id="8-cuantos-servidores-raiz-existen">8. ¿Cuántos servidores raíz existen?</h3>
<p>Hay 13 servidores raíz de la A a la M.</p>
<h3 id="9-que-es-una-consulta-iterativa-de-referencia">9. ¿Qué es una consulta iterativa de referencia?</h3>
<p>Es un tipo de consulta en la que un servidor DNS responde con la mejor información que tiene y, si no sabe la respuesta exacta, devuelve la dirección de otro servidor DNS más específico.
El cliente sigue consultando hasta obtener la respuesta final.</p>
<h3 id="10-en-una-resolucion-inversa-a-que-nombre-se-mapearia-la-direccion-ip-172163456">10. En una resolución inversa, ¿a qué nombre se mapearía la dirección IP 172.16.34.56?</h3>
<p>56 IN PTR nombre_host.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>