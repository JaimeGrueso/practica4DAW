{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"practica4/","title":"Practica4","text":""},{"location":"practica4/#practica-41-configuracion-de-un-servidor-dns","title":"Practica 4.1: Configuraci\u00f3n De Un Servidor DNS","text":""},{"location":"practica4/#1-instalacion-de-servidor-dns","title":"1. Instalacion de Servidor DNS","text":"<p>Antes de comenzar la instalaci\u00f3n del servidor DNS, debemso conectarnos por SSH a nuestra m\u00e1quina f\u00edsica donde se ejecutar\u00e1n los comandos necesarios para la instalaci\u00f3n del servidor DNS. Para ello, utilizaremos el siguiente comando: </p> <p>Para instalar el servidor DNS en nuestra m\u00e1quina, utilizaremos el siguiente comando: </p>"},{"location":"practica4/#2-configuracion-del-servidor-dns","title":"2. Configuraci\u00f3n del Servidor DNS","text":"<p>Para configurar el servidor DNS, debemos modificar el archivo <code>/etc/default/named</code>. Dicho archivo, deber\u00e1 tener la siguiente configuraci\u00f3n: </p> <p>Ahora se comprobar\u00e1 el estado del archivo <code>/etc/bind/named.conf</code> para verificar que la configuraci\u00f3n del servidor DNS es correcta: </p> <p>Esos tres archivos son los que se deben modificar para configurar el servidor DNS.</p>"},{"location":"practica4/#21-configuracion-de-namedconfoptions","title":"2.1. Configuracion de named.conf.options","text":"<p>Se recomienda siempre hacer una copia de seguridad del archivo antes de modificarlo. Para ello, utilizaremos el siguiente comando:</p> <pre><code>sudo cp /etc/bind/named.conf.options /etc/bind/named.conf.options.backup\n</code></pre> <p>Ahora, modificaremos el archivo <code>/etc/bind/named.conf.options</code>. Primeramente, se debe a\u00f1adir estas lineas al inicio del archivo:</p> <p></p> <p>El tercer byte depender\u00e1 de la direcci\u00f3n IP de la m\u00e1quina. En este caso, la direcci\u00f3n IP de la m\u00e1quina es <code>192.168.1.59</code>, por lo que el tercer byte ser\u00e1 <code>1</code>.</p> <p>Seguidamente, se deber\u00e1n a\u00f1adir unas lineas y el archivo deber\u00e1 quedar de la siguiente manera: </p> <p><code>allow-recursion {confiables;};</code>: Permite a los clientes hacer consultas recursivas.</p> <p><code>allow-transfer {none;};</code>: No permite transferencias de zona para evitar que se hagan transferencias de zona no autorizadas.</p> <p><code>listen-on port 53 {192.168.1.59;};</code>: Indica que el servidor DNS escuchar\u00e1 en el puerto 53 de la direcci\u00f3n IP <code>192.168.1.59</code>.</p> <p><code>recursion yes</code>: Permite hacer consultas recursivas.</p> <p><code>dnssec-validation yes;</code>: Habilita la validaci\u00f3n de DNSSEC.</p> <p><code>dnsssec-enable yes;</code>: Habilita DNSSEC.</p> <p>Se podr\u00e1 comprobar que la configuraci\u00f3n del archivo es correcta utilizando el siguiente comando:  Si no sale nada, quiere decir que la configuraci\u00f3n es correcta.</p> <p>Ahora se reiniciar\u00e1 el servicio para que los cambios tengan efecto: </p>"},{"location":"practica4/#22-configuracion-de-namedconflocal","title":"2.2. Configuraci\u00f3n de named.conf.local","text":"<p>Se crear\u00e1 la zona <code>deaw.es</code> de la siguiente manera: </p>"},{"location":"practica4/#23-creacion-del-archivo-de-zona","title":"2.3. Creaci\u00f3n del Archivo de Zona","text":"<p>El nombre del archivo de zona ser\u00e1 <code>db.deaw.es</code>, como hemos indicado en el archivo <code>named.conf.local</code> y tendr\u00e1 la siguiente configuraci\u00f3n:</p> <p></p> <p>Los dos ultimos bytes de la direcci\u00f3n IP de la m\u00e1quina son <code>1</code> y <code>59</code>, por lo que se deber\u00e1 cambiar en el archivo de zona, dependiendo de la direcci\u00f3n IP de la m\u00e1quina.</p>"},{"location":"practica4/#24-creacion-del-archivo-de-zona-para-la-resolucion-inversa","title":"2.4. Creaci\u00f3n del Archivo de Zona para la Resoluci\u00f3n Inversa","text":"<p>Deben existir dos archivos de zona, uno para la resoluci\u00f3n directa y otro para la resoluci\u00f3n inversa. Para crear el archivo de zona para la resoluci\u00f3n inversa. Primero se a\u00f1aden las siguientes lineas al archivo <code>/etc/bind/named.conf.local</code>:</p> <p></p> <p>Ahora se crear\u00e1 el archivo de zona para la resoluci\u00f3n inversa, llamado <code>db.1.168.192</code> y tendr\u00e1 la siguiente configuraci\u00f3n:</p> <p></p>"},{"location":"practica4/#25-comprobacion-de-las-configuraciones","title":"2.5. Comprobaci\u00f3n de las Configuraciones","text":"<p>Para comprobar que la configuraci\u00f3n de resoluci\u00f3n directa e inversa se ejecutar\u00e1n los siguientes comandos: </p> <p>Si todo est\u00e1 correcto, el comando devolver\u00e1 OK.</p> <p>Ahora reiniciaremos el servicio para que los cambios tengan efecto: </p>"},{"location":"practica4/#26-comprobacion-de-las-resoluciones-y-de-las-consultas","title":"2.6. Comprobaci\u00f3n de las Resoluciones y de las Consultas","text":"<p>Antes de probar nada hay que establecer el cliente, para ello se utilizar\u00e1 una m\u00e1quina virtual. Para ello, se debe configurar el archivo <code>/etc/resolv.conf</code> de la m\u00e1quina virtual con la direcci\u00f3n IP del servidor DNS. Deber\u00e1 quedar de la siguiente manera:</p> <p></p> <p>Hecho esto se comprobar\u00e1 que la resoluci\u00f3n directa e inversa funciona correctamente. Para ello, se ejecutar\u00e1n los siguientes comandos. Primero se utilizar\u00e1 <code>dig</code>. </p> <p></p> <p>Ahora se utilizar\u00e1 <code>nslookup</code>.</p> <p></p>"},{"location":"practica4/#cuestiones-finales","title":"Cuestiones Finales","text":""},{"location":"practica4/#1-que-pasara-si-un-cliente-de-una-red-diferente-a-la-tuya-intenta-hacer-uso-de-tu-dns-de-alguna-manera-le-funcionarapor-que-en-que-parte-de-la-configuracion-puede-verse","title":"1. \u00bfQu\u00e9 pasar\u00e1 si un cliente de una red diferente a la tuya intenta hacer uso de tu DNS de alguna manera, le funcionar\u00e1?\u00bfPor qu\u00e9, en qu\u00e9 parte de la configuraci\u00f3n puede verse?","text":"<p>No funcionar\u00e1, ya que en la configuraci\u00f3n se ha restringido la recursi\u00f3n solo a los clientes confiables con la directiva: <code>allow-recursion {confiables;};</code> Esto significa que solo las direcciones IP definidas en \"confiables\" podr\u00e1n realizar consultas recursivas. Si un cliente externo intenta resolver un dominio usando este DNS, su petici\u00f3n ser\u00e1 rechazada.</p>"},{"location":"practica4/#2-por-que-tenemos-que-permitir-las-consultas-recursivas-en-la-configuracion","title":"2. \u00bfPor qu\u00e9 tenemos que permitir las consultas recursivas en la configuraci\u00f3n?","text":"<p>Porque sin recursi\u00f3n, el servidor solo responder\u00eda por las zonas en las que es autoritativo y no resolver\u00eda nombres externos.</p>"},{"location":"practica4/#3-el-servidor-dns-que-acabais-de-montar-es-autoritativopor-que","title":"3. El servidor DNS que acab\u00e1is de montar, \u00bfes autoritativo?\u00bfPor qu\u00e9?","text":"<p>S\u00ed, porque en la configuraci\u00f3n se han definido zonas primarias con <code>\"type master;\"</code>. Un servidor DNS es autoritativo cuando tiene registros DNS de una zona espec\u00edfica y puede responder con informaci\u00f3n definitiva sobre esos dominios.</p>"},{"location":"practica4/#4-donde-podemos-encontrar-la-directiva-origin-y-para-que-sirve","title":"4. \u00bfD\u00f3nde podemos encontrar la directiva $ORIGIN y para qu\u00e9 sirve?","text":"<p>La directiva $ORIGIN se encuentra en los archivos de zona y establece el dominio base para los registros.</p>"},{"location":"practica4/#5-una-zona-es-identico-a-un-dominio","title":"5. \u00bfUna zona es id\u00e9ntico a un dominio?","text":"<p>No necesariamente. Un dominio es un nombre dentro del sistema DNS. Una zona es una parte de un dominio gestionada por un servidor DNS espec\u00edfico.</p>"},{"location":"practica4/#6-pueden-editarse-los-archivos-de-zona-de-un-servidor-esclavosecundario","title":"6. \u00bfPueden editarse los archivos de zona de un servidor esclavo/secundario?","text":"<p>No, los servidores secundarios obtienen los datos de un servidor maestro mediante transferencias de zona.</p>"},{"location":"practica4/#7-por-que-podria-querer-tener-mas-de-un-servidor-esclavo-para-una-misma-zona","title":"7. \u00bfPor qu\u00e9 podr\u00eda querer tener m\u00e1s de un servidor esclavo para una misma zona?","text":"<p>Para mejorar la redundancia y la disponibilidad. Si un servidor secundario falla, los otros servidores secundarios pueden seguir respondiendo a las consultas.</p>"},{"location":"practica4/#8-cuantos-servidores-raiz-existen","title":"8. \u00bfCu\u00e1ntos servidores ra\u00edz existen?","text":"<p>Hay 13 servidores ra\u00edz de la A a la M.</p>"},{"location":"practica4/#9-que-es-una-consulta-iterativa-de-referencia","title":"9. \u00bfQu\u00e9 es una consulta iterativa de referencia?","text":"<p>Es un tipo de consulta en la que un servidor DNS responde con la mejor informaci\u00f3n que tiene y, si no sabe la respuesta exacta, devuelve la direcci\u00f3n de otro servidor DNS m\u00e1s espec\u00edfico. El cliente sigue consultando hasta obtener la respuesta final.</p>"},{"location":"practica4/#10-en-una-resolucion-inversa-a-que-nombre-se-mapearia-la-direccion-ip-172163456","title":"10. En una resoluci\u00f3n inversa, \u00bfa qu\u00e9 nombre se mapear\u00eda la direcci\u00f3n IP 172.16.34.56?","text":"<p>56 IN PTR nombre_host.</p>"}]}